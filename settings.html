<div class="littlewhitebox">
  <div class="inline-drawer">
    <div class="inline-drawer-toggle inline-drawer-header">
      <b data-i18n="dabaiy_settings">大白Y 核心控制</b>
      <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
    </div>
    <div class="inline-drawer-content" style="display:none;">
      <div class="settings-container">
        <!-- Main Toggle -->
        <div class="flex-container">
          <input type="checkbox" id="xiaobaix_enabled" />
          <label for="xiaobaix_enabled" style="color:var(--SmartThemeQuoteColor); font-weight:bold;">
            总开关：启用大白X动态提示词覆盖系统
          </label>
        </div>
        <br>

        <div class="un-module settings-section">
          <div class="section-divider">一、文字生成偏好 (强制覆盖AI预设)
            <hr class="sysHR">
          </div>
          <div class="flex-container flexFlowColumn" style="gap:8px;">
            <small style="color:var(--SmartThemeQuoteColor);">这些偏好会在发送消息前被包裹在系统越权代码中，优先级极高！</small>

            <label for="dabaiy_plot_pref">剧情发展偏好 (强制执行)</label>
            <textarea id="dabaiy_plot_pref" class="text_pole textarea_compact" rows="3"
              placeholder="例如：禁止完全服务user，人物要有性格，要学会拒绝..."></textarea>

            <label for="dabaiy_writing_style">文体风格 (强制执行)</label>
            <textarea id="dabaiy_writing_style" class="text_pole textarea_compact" rows="2"
              placeholder="例如：日系轻小说文风，辞藻华丽..."></textarea>

            <label for="dabaiy_plot_depth">描写深度 (Depth) / 视角细节</label>
            <textarea id="dabaiy_plot_depth" class="text_pole textarea_compact" rows="2"
              placeholder="例如：心理活动描写要极度深邃，环境细节要真实残酷..."></textarea>

            <label for="dabaiy_roles_rule">温度(发散度) 与 逻辑规约</label>
            <textarea id="dabaiy_roles_rule" class="text_pole textarea_compact" rows="2"
              placeholder="例如：打破原有的人设条条框框，放飞自我（高温度）。"></textarea>

            <label for="dabaiy_plot_pacing">剧情节奏与推演速度</label>
            <textarea id="dabaiy_plot_pacing" class="text_pole textarea_compact" rows="2"
              placeholder="例如：极致的慢热体验(Slow burn)，或者 剧情高速推进(Fast paced)。"></textarea>

            <label for="dabaiy_focus_ratio">描写重心与对话动作比例</label>
            <textarea id="dabaiy_focus_ratio" class="text_pole textarea_compact" rows="2"
              placeholder="例如：偏重于肢体动作和环境互动，减少内心独白。"></textarea>

            <label for="dabaiy_format_rule">排版格式与输出结构</label>
            <textarea id="dabaiy_format_rule" class="text_pole textarea_compact" rows="2"
              placeholder="例如：必须使用Markdown排版，关键动作加粗，内心独白使用斜体。"></textarea>
          </div>

          <br>
          <div class="section-divider">二、强制标签输出与正则模板
            <hr class="sysHR">
          </div>
          <div class="flex-container flexFlowColumn" style="gap:8px;">
            <small style="color:var(--SmartThemeQuoteColor);">
              这里允许您强制让大模型以 XML 代码形式输出关键节点（如 <code>&lt;pic prompt="..."&gt;</code>），极大幅度提升模型识别与执行顺从度，且对正则提取提取有奇效。
            </small>
            <label for="dabaiy_regex_template">格式模板 (XML Tag)</label>
            <textarea id="dabaiy_regex_template" class="text_pole textarea_compact" rows="3"
              placeholder="例如：你必须在回复末尾，将你的内心阴暗想法用 <hidden_thought>标签包裹起来！"></textarea>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<style>
  .littlewhitebox,
  .littlewhitebox * {
    font-family: 'ZCOOL KuaiLe', 'ZCOOL XiaoWei', sans-serif !important
  }

  .settings-section {
    padding: 10px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    margin-bottom: 15px;
  }

  .section-divider {
    font-weight: bold;
    color: var(--SmartThemeBodyColor);
    margin-bottom: 10px;
  }
</style>